{"file":"C:\\Users\\dinuk\\Desktop\\My Docs\\Projects\\Tradeasy\\Tradeasy-Backend\\discount_management\\src\\app.controller.ts","mappings":";;;;;;;;;;;;;;;AAAA,2CAA4C;AAC5C,+CAA2C;AAC3C,yDAAgE;AAChE,qDAAkD;AAK3C,IAAM,aAAa,GAAnB,MAAM,aAAa;IACxB,YAA6B,kBAA8B;QAA9B,uBAAkB,GAAlB,kBAAkB,CAAY;IAAG,CAAC;IAGzD,AAAN,KAAK,CAAC,cAAc,CAAY,YAA0B;QACxD,OAAO,MAAM,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;IACpE,CAAC;IAEH,gDAAgD;IAChD,qFAAqF;IACrF,yCAAyC;IACzC,4EAA4E;IAC5E,KAAK;IAGG,AAAN,KAAK,CAAC,kBAAkB,CAAY,KAAY;QAC9C,OAAO,MAAM,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;IACjE,CAAC;IAGK,AAAN,KAAK,CAAC,eAAe;QACnB,OAAO,MAAM,IAAI,CAAC,kBAAkB,CAAC,eAAe,EAAE,CAAC;IACzD,CAAC;IAGK,AAAN,KAAK,CAAC,eAAe,CAAY,EAAO;QACtC,OAAO,MAAM,IAAI,CAAC,kBAAkB,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;IAC3D,CAAC;IAGK,AAAN,KAAK,CAAC,cAAc,CAAY,EAAS;QACvC,OAAO,MAAM,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;IAC1D,CAAC;CACF,CAAA;AAjCY,sCAAa;AAIlB;IADL,IAAA,8BAAc,EAAC,EAAC,GAAG,EAAE,iBAAiB,EAAC,CAAC;IACnB,WAAA,IAAA,uBAAO,GAAE,CAAA;;qCAAe,2BAAY;;mDAEzD;AASK;IADL,IAAA,8BAAc,EAAC,EAAC,GAAG,EAAE,sBAAsB,EAAC,CAAC;IACpB,WAAA,IAAA,uBAAO,GAAE,CAAA;;;;uDAElC;AAGK;IADL,IAAA,8BAAc,EAAC,EAAC,GAAG,EAAE,mBAAmB,EAAC,CAAC;;;;oDAG1C;AAGK;IADL,IAAA,8BAAc,EAAC,EAAC,GAAG,EAAE,cAAc,EAAC,CAAC;IACf,WAAA,IAAA,uBAAO,GAAE,CAAA;;;;oDAE/B;AAGK;IADL,IAAA,8BAAc,EAAC,EAAC,GAAG,EAAE,iBAAiB,EAAC,CAAC;IACnB,WAAA,IAAA,uBAAO,GAAE,CAAA;;;;mDAE9B;wBAhCU,aAAa;IADzB,IAAA,mBAAU,GAAE;qCAEsC,wBAAU;GADhD,aAAa,CAiCzB","names":[],"sources":["C:\\Users\\dinuk\\Desktop\\My Docs\\Projects\\Tradeasy\\Tradeasy-Backend\\discount_management\\src\\app.controller.ts"],"sourcesContent":["import { Controller } from '@nestjs/common';\r\nimport { AppService } from './app.service';\r\nimport { MessagePattern, Payload } from '@nestjs/microservices';\r\nimport { DiscountsDTO } from './dto/discountsDTO';\r\nimport { Discounts } from './discount.entity';\r\nimport { Query } from 'express-serve-static-core';\r\n\r\n@Controller()\r\nexport class AppController {\r\n  constructor(private readonly discountManagement: AppService) {}\r\n\r\n  @MessagePattern({cmd: 'CREATE_DISCOUNT'})\r\n  async createDiscount(@Payload() discountsDTO: DiscountsDTO): Promise<Discounts>{\r\n    return await this.discountManagement.createDiscount(discountsDTO);\r\n  }\r\n\r\n//   @MessagePattern({ cmd: 'SEARCH_DISCOUNT' })\r\n//   async searchAllDiscounts(@Payload() productName: string): Promise<Discounts[]> {\r\n//     console.log(\"getSearchDiscounts\");\r\n//     return await this.discountManagement.searchAllDiscounts(productName);\r\n//  }\r\n\r\n  @MessagePattern({cmd: 'SEARCH_ALL_DISCOUNTS'})\r\n  async searchAllDiscounts(@Payload() query: Query): Promise<Discounts[]>{\r\n    return await this.discountManagement.searchAllDiscounts(query);\r\n  }\r\n\r\n  @MessagePattern({cmd: 'GET_ALL_DISCOUNTS'})\r\n  async getAllDiscounts(): Promise<Discounts[]>{\r\n    return await this.discountManagement.getAllDiscounts();\r\n  }\r\n\r\n  @MessagePattern({cmd: 'GET_DISCOUNT'})\r\n  async getDiscountById(@Payload() id: any): Promise<Discounts | null>{\r\n    return await this.discountManagement.getDiscountById(id);\r\n  }\r\n\r\n  @MessagePattern({cmd: 'DELETE_DISCOUNT'})\r\n  async deleteDiscount(@Payload() id:number){\r\n    return await this.discountManagement.deleteDiscount(id);\r\n  }\r\n}\r\n"],"version":3}